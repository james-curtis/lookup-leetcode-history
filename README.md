# lookup-leetcode-history
查看力扣三年以前的历史记录

![image](https://github.com/james-curtis/lookup-leetcode-history/assets/49338067/afad8aae-5393-4fac-ae06-9108ba2041b8)

[![Edit Calendar Heatmap (forked)](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/p/sandbox/calendar-heatmap-forked-6fkdf2)

使用 ECharts 绘制出来

打开：https://echarts.apache.org/examples/zh/editor.html?c=calendar-heatmap&lang=js

控制台抓包 `https://leetcode.cn/graphql/noj-go/` 把 `response` 复制出来替换掉 `leetcodeJson`

> 如果要查看其他年份的数据，可以复制请求的 cURL 然后再 apifox 或者 postman 修改 `payload` 重发即可

最后修改 `cursorYear` 变量为需要查看的年份

代码：
```js
// 修改下面，替换json
const leetcodeJson = {
    "data": {
        "userCalendar": {
            "streak": 15,
            "totalActiveDays": 117,
            "submissionCalendar": "{\"1577923200\":3,\"1578009600\":4,\"1578096000\":3,\"1578182400\":1,\"1578268800\":1,\"1578355200\":5,\"1578441600\":7,\"1578528000\":2,\"1578614400\":1,\"1578700800\":5,\"1578787200\":16,\"1578873600\":14,\"1580083200\":5,\"1580169600\":15,\"1580256000\":25,\"1580342400\":8,\"1580428800\":34,\"1580515200\":5,\"1580601600\":27,\"1580688000\":14,\"1580774400\":10,\"1580860800\":33,\"1580947200\":25,\"1581033600\":41,\"1581120000\":19,\"1581206400\":40,\"1581292800\":7,\"1581638400\":9,\"1581724800\":18,\"1581811200\":38,\"1581897600\":10,\"1581984000\":28,\"1582070400\":42,\"1582156800\":32,\"1582243200\":14,\"1582329600\":10,\"1582502400\":3,\"1582588800\":16,\"1582675200\":13,\"1582848000\":6,\"1582934400\":9,\"1583020800\":7,\"1583193600\":5,\"1583280000\":2,\"1583452800\":10,\"1583625600\":6,\"1583712000\":8,\"1583798400\":22,\"1583884800\":25,\"1584316800\":3,\"1584403200\":47,\"1584489600\":8,\"1584576000\":22,\"1584662400\":3,\"1584835200\":1,\"1585094400\":14,\"1585180800\":28,\"1585267200\":7,\"1585353600\":5,\"1585526400\":7,\"1585699200\":15,\"1585785600\":11,\"1586044800\":5,\"1586131200\":12,\"1586217600\":18,\"1586304000\":8,\"1586390400\":3,\"1587340800\":1,\"1588204800\":6,\"1588550400\":3,\"1588636800\":24,\"1588723200\":4,\"1588809600\":11,\"1588896000\":10,\"1588982400\":9,\"1589068800\":2,\"1589500800\":10,\"1590105600\":4,\"1590278400\":13,\"1590364800\":11,\"1590451200\":5,\"1590537600\":10,\"1590624000\":9,\"1590710400\":1,\"1590796800\":3,\"1590969600\":6,\"1591833600\":1,\"1591920000\":1,\"1593388800\":1,\"1593475200\":6,\"1593561600\":10,\"1593648000\":6,\"1593734400\":2,\"1593907200\":16,\"1593993600\":1,\"1595376000\":3,\"1595635200\":1,\"1595808000\":5,\"1596240000\":17,\"1596326400\":18,\"1596412800\":4,\"1596672000\":1,\"1596931200\":2,\"1597017600\":2,\"1603411200\":1,\"1603497600\":3,\"1604275200\":6,\"1604361600\":4,\"1604448000\":1,\"1604620800\":4,\"1604707200\":15,\"1604793600\":3,\"1605139200\":5,\"1605312000\":1,\"1605398400\":13,\"1606608000\":3,\"1609286400\":10}",
            "activeYears": [
                2018,
                2019,
                2020,
                2021
            ],
            "monthlyMedals": null,
            "recentStreak": 0
        }
    }
}

// 修改下面，所需查看的年份
const cursorYear = `2020`

// ---------------------------------------------------
const submissionCalendar = JSON.parse(leetcodeJson.data.userCalendar.submissionCalendar)
const echartsCalendar = Object.fromEntries(Object.entries(submissionCalendar).map(([timestamp,num])=>{
    const date = new Date(Number(`${timestamp}000`))
    return [`${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`, num]
}
))
console.log(echartsCalendar)

option = {
  title: {
    top: 30,
    left: 'center',
    text: '力扣历史记录'
  },
  tooltip: {
    formatter(params, ticket, callback){
      return `${params.data[0]}<br />${params.data[1]} 次提交`
    }
  },
  visualMap: {
    min: 0,
    max: Math.max(...Object.values(echartsCalendar)),
    type: 'piecewise',
    orient: 'horizontal',
    left: 'center',
    top: 65
  },
  calendar: {
    top: 120,
    left: 30,
    right: 30,
    cellSize: ['auto', 13],
    range: cursorYear,
    itemStyle: {
      borderWidth: 0.5
    },
    yearLabel: { show: false }
  },
  series: {
    type: 'heatmap',
    coordinateSystem: 'calendar',
    data: Object.entries(echartsCalendar)
  }
};
```
